(* WARNING: This file was generated automatically by Vehicle *)
(* and should not be modified manually! *)
(* Metadata: *)
(*  - Vehicle version: 0.22.0+dev *)
(*  - Rocq version: 9.0.0 *)

Require Import mathcomp.ssreflect.ssrbool.
Require Import mathcomp.algebra.ssralg.
Require Import mathcomp.ssreflect.ssrnat.
Require Import mathcomp.ssreflect.order.
Require Import mathcomp.ssreflect.fintype.
Require Import mathcomp.ssreflect.seq.
Require Import mathcomp.algebra.zmodp.
Require Import mathcomp.reals.reals.
Require Import vehicle.tensor.
Require Import vehicle.utils.
Open Scope ring_scope.
Open Scope order_scope.

Parameter R : realType.

Definition InputVector : Type := 'nT[R]_(2%N :: nil).

Definition currentSensor : 'I_2%N := 0.

Definition previousSensor : 'I_2%N := 1.

Definition OutputVector : Type := 'nT[R]_(1%N :: nil).

Definition velocity : 'I_1%N := 0.

Parameter controller : InputVector -> OutputVector.

Definition normalise (x : InputVector) : InputVector := nstack (fun i => x^^i + const_t (4 : R) / const_t (8 : R)).

Definition safeInput (x : InputVector) : Prop := 
    forallIndex (fun i => (- const_t (13 / 4 : R) <= x^^i) 
        /\ (x^^i <= const_t (13 / 4 : R))).

Definition safeOutput (x : InputVector) : Prop := 
    let y := (controller (normalise x))^^velocity in 
    (- const_t (5 / 4 : R) < 
        ((y + (const_t (2 : R) * x^^currentSensor)) - x^^previousSensor)) /\ 
    (((y + (const_t (2 : R) * x^^currentSensor)) - x^^previousSensor) < 
        const_t (5 / 4 : R)).

Axiom safe : forall x, safeInput x -> safeOutput x.